cmake_minimum_required(VERSION 3.21)
project(Doughnut VERSION 1.0.0 LANGUAGES CXX)

# Set C++ standard
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Use vcpkg toolchain if it exists
if(DEFINED CMAKE_TOOLCHAIN_FILE)
    message(STATUS "Using vcpkg toolchain: ${CMAKE_TOOLCHAIN_FILE}")
endif()

# Find required packages
find_package(OpenGL REQUIRED)
find_package(glfw3 REQUIRED)
find_package(glm REQUIRED)
find_package(glad REQUIRED)

# Define the executable
add_executable(doughnut
    Source_Files/main.cpp
 "Source_Files/Mesh.cpp" "Source_Files/Shader.cpp" "Source_Files/Camera.cpp")

# Link libraries to the executable
target_link_libraries(doughnut PRIVATE
    OpenGL::GL
    glfw
    glm::glm
    glad::glad
)

# Include directories
target_include_directories(doughnut PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/Header_Files)

# Optional: Print build info
message(STATUS "OpenGL found: ${OPENGL_FOUND}")
message(STATUS "GLFW3 found: ${glfw3_FOUND}")
message(STATUS "GLM found: ${glm_FOUND}")
message(STATUS "GLAD found: ${glad_FOUND}")
